import{u as h,a as l,s as f,b as g,c as j,d as v,j as e,e as F,f as S,g as T,h as N,i as L,k as U,l as A,m as O,C as V,G as D,n as M,D as b,B as R,o as B,M as H,p as $}from"./index-BBDs2YdN.js";import{H as G}from"./Header-Du66B1wL.js";import{C as Z,F as E}from"./Footer-BLfTiZgL.js";const k=()=>{const c=h(),n=l(f),r=l(g),x=l(j),d=r==="admin"?n:x,i=Array.from(new Set(d.map(s=>s.type))),a=v({initialValues:{selectedTypes:[]},onSubmit:()=>{}}),o=s=>{const m=a.values.selectedTypes.includes(s)?a.values.selectedTypes.filter(u=>u!==s):[...a.values.selectedTypes,s];a.setFieldValue("selectedTypes",m),c(F(m))};return e.jsxs("form",{className:"mb-4",children:[e.jsx("h2",{className:"text-md lg:text-lg font-semibold mb-4",children:"Select Car Types"}),i.map(s=>e.jsx("div",{children:e.jsxs("label",{className:"text-[15px] lg:text-lg filters-color cursor-pointer",children:[e.jsx("input",{"data-cy":"carType","aria-label":`select ${s}`,type:"checkbox",name:"selectedTypes",value:s,checked:a.values.selectedTypes.includes(s),onChange:()=>o(s),className:"mr-[10px] filters-color"}),s.charAt(0).toUpperCase()+s.slice(1)]})},s))]})},w=()=>{const c=h(),n=l(f),r=l(g),x=l(j),d=r==="admin"?n:x,i=Array.from(new Set(d.map(s=>s.transmission))),a=v({initialValues:{selectedTypes:[]},onSubmit:()=>{}}),o=s=>{const m=a.values.selectedTypes.includes(s)?a.values.selectedTypes.filter(u=>u!==s):[...a.values.selectedTypes,s];a.setFieldValue("selectedTypes",m),c(S(m))};return e.jsxs("form",{className:"mb-4",children:[e.jsx("h2",{className:"text-md lg:text-lg font-semibold mb-4",children:"Select type of transmission"}),i.map((s,t)=>e.jsx("div",{children:e.jsxs("label",{className:"text-[15px] lg:text-lg filters-color cursor-pointer",children:[e.jsx("input",{"data-cy":"transmission",type:"checkbox",name:"selectedTypes",value:s,checked:a.values.selectedTypes.includes(s),onChange:()=>o(s),className:"mr-[10px] filters-color"}),s.charAt(0).toUpperCase()+s.slice(1)]})},t))]})},P=()=>{const c=h(),n=l(f),r=l(g),x=l(j),d=r==="admin"?n:x,i=l(T),a=l(N),o=d.length>0?d.map(p=>p.price.day):[],s=Math.min(...o),t=Math.max(...o),m=p=>{const y=p.target.value;console.log(p.target.value),c(L(Number(y)))},u=p=>{const y=p.target.value;c(U(Number(y)))};return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"text-md lg:text-lg font-semibold mb-4",children:"Select Price per day"}),e.jsxs("span",{"data-cy":"minPrice",className:"text-[15px] lg:text-lg",children:["Min Price: $",i]})," ",e.jsx("input",{"aria-label":"select minimum price",type:"range",min:s,max:a,value:i,onChange:m,className:"my-4 max-w-[300px] cursor-pointer"}),e.jsxs("span",{"data-cy":"maxPrice",className:"text-[15px] lg:text-lg",children:["Max Price: $",a]}),e.jsx("input",{type:"range","aria-label":"select maximum price",min:i,max:t,value:a,onChange:u,className:"my-4 max-w-[300px] cursor-pointer"})]})},I=()=>e.jsx("div",{className:"flex flex-col gap-[30px] w-[300px] primary-background rounded-lg p-[20px] box-shadow",children:e.jsxs("div",{className:"sticky top-[90px]",children:[e.jsx(k,{}),e.jsx(w,{}),e.jsx(P,{})]})}),W=()=>{const c=l(f),n=l(g),r=l(j),x=l(T),d=l(N),i=n==="admin"?c:r,a=l(A),o=l(O);let s;return a.length===0&&o.length===0?s=i:a.length===0&&o.length>0?s=i.filter(t=>o.includes(t.transmission)):a.length>0&&o.length===0?s=i.filter(t=>a.includes(t.type)):s=i.filter(t=>o.includes(t.transmission)).filter(t=>a.includes(t.type)),d>0&&(s=s.filter(t=>t.price.day>=x&&t.price.day<=d)),e.jsx("div",{className:"w-[100%]",children:e.jsx("ul",{"data-cy":"carsList",className:"w-[100%] grid grid-cols-[repeat(auto-fill,minmax(275px,1fr))] gap-[29px] mb-[50px] justify-items-center",children:s==null?void 0:s.map(t=>e.jsx(V,{carProps:t},t._id))})})};function _(c){return D({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06L8.25 4.81V16.5a.75.75 0 0 1-1.5 0V4.81L3.53 8.03a.75.75 0 0 1-1.06-1.06l4.5-4.5Zm9.53 4.28a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V7.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"},child:[]}]})(c)}const q=()=>{const{isSM:c,isWideTablet:n}=M();return e.jsxs("div",{className:"flex-grow relative",children:[e.jsxs("div",{className:"flex w-[100%] md:mb-[20px] sm:gap-[10px] flex-col sm:flex-row sm:justify-between",children:[e.jsx(b,{name:"Pick-Up"}),(c||n)&&e.jsx(R,{type:"button",ariaLabel:"sort by price",style:"h-[55px] self-center",children:e.jsx(_,{color:"white"})}),e.jsx(b,{name:"Drop-Off"})]}),e.jsx(W,{})]})},C=()=>{const c=h(),n=l(B),r=()=>{c($(!1))};return e.jsxs("div",{className:`fixed left-0 bottom-0 w-[80%] sm:w-[50%] h-100vh-minus-86px primary-background translate-x-[-100%] p-[30px] secondary-text transition-transform duration-250 ease-in-out ${n&&"translate-x-[0]"}`,children:[e.jsx("button",{onClick:r,className:"absolute top-[20px] right-[20px] outline-0 primary-text",children:e.jsx(H,{})}),e.jsxs("div",{className:"",children:[e.jsx(k,{}),e.jsx(w,{}),e.jsx(P,{})]})]})},Q=()=>{const{isMobile:c,isSM:n,isTablet:r}=M();return e.jsxs(e.Fragment,{children:[e.jsx(G,{}),e.jsx("main",{"data-cy":"store-provider",className:"flex-1 secondary-background secondary-text p-4",children:e.jsxs(Z,{addStyles:r?"flex gap-[20px]":"",children:[r&&e.jsx(I,{}),e.jsx(q,{})]})}),e.jsx(E,{}),c&&e.jsx(C,{}),n&&e.jsx(C,{})]})};export{Q as default};
